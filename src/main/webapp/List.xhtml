<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
<h:head>
    <title>#{msg['candidates.list']}</title>
    <h:outputStylesheet library="webjars" name="bootstrap/5.3.3/css/bootstrap.min.css" />
</h:head>
<h:body>
    <div class="container">
        <h:form>
            <h:commandButton value="FranÃ§ais" action="#{language.changeLanguage('fr')}" styleClass="btn btn-primary me-2"/>
            <h:commandButton value="English" action="#{language.changeLanguage('en')}" styleClass="btn btn-secondary"/>
        </h:form>


        <h:form>
            <h2 class="mb-4 text-center">#{msg['candidates.list']}</h2>
            <h:dataTable value="#{userBean.users}" var="user"
                         styleClass="table table-bordered table-striped table-hover">
                <h:column>
                    <f:facet name="header">#{msg['label.id']}</f:facet>
                    #{user.id}
                </h:column>
                <h:column>
                    <f:facet name="header">#{msg['label.username']}</f:facet>
                    #{user.username}
                </h:column>
                <h:column>
                    <f:facet name="header">#{msg['label.firstname']}</f:facet>
                    #{user.firstname}
                </h:column>
                <h:column>
                    <f:facet name="header">#{msg['label.lastname']}</f:facet>
                    #{user.lastname}
                </h:column>
                <h:column>
                    <f:facet name="header">#{msg['label.email']}</f:facet>
                    #{user.email}
                </h:column>
                <h:column>
                    <f:facet name="header">#{msg['label.phonenumber']}</f:facet>
                    #{user.phonenumber}
                </h:column>
                <h:column>
                    <f:facet name="header">#{msg['label.department']}</f:facet>
                    #{user.departement}
                </h:column>
                <h:column>
                    <f:facet name="header">#{msg['label.salary']}</f:facet>
                    #{user.salaire}
                </h:column>
                <h:column>
                    <f:facet name="header">#{msg['label.actions']}</f:facet>
                    <h:commandButton value="#{msg['button.update']}"
                                     action="#{userBean.prepareUpdate(user.id)}"
                                     styleClass="btn btn-success me-1"/>
                </h:column>
                <h:column>
                    <f:facet name="header">#{msg['label.actions']}</f:facet>
                    <h:commandButton value="#{msg['button.delete']}"
                                     action="#{userBean.deleteUser(user.id)}"
                                     styleClass="btn btn-danger" />
                </h:column>
            </h:dataTable>
        </h:form>
    </div>
</h:body>
</html>
